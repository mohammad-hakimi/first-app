(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[0],{18:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},19:function(t,e,a){t.exports=a.p+"static/media/Bouncy-Preloader.4e80f869.gif"},22:function(t,e,a){t.exports=a(47)},27:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(15),s=a.n(i),c=(a(27),a(2)),r=a.n(c),l=a(4),d=a(16),u=a(17),h=a(3),m=a(21),p=a(20),f=a(5),g=a.n(f),b=a(18),v=a.n(b),w=(a(46),function(t){return o.a.createElement("li",{className:"list-group-item"},t.item.name,o.a.createElement("button",{className:"ml-3 btn-sm btn btn-info",onClick:t.updateItem},"U"),o.a.createElement("button",{className:"mx-3 btn-sm btn btn-danger",onClick:t.deleteItem},"X"))}),k=a(19),T=a.n(k),y=function(t){Object(m.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).state={newTodo:"",updatingTodo:{id:0,name:""},todos:[],editing:!1,notification:null,loading:!0},n.apiUrl="https://5f7c46c200bd74001690a8c7.mockapi.io",n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.alert=n.alert.bind(Object(h.a)(n)),n.handleButtonClick=n.handleButtonClick.bind(Object(h.a)(n)),n.deleteItem=n.deleteItem.bind(Object(h.a)(n)),n.updateItem=n.updateItem.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(r.a.mark((function t(){var e,a=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(this.apiUrl,"/todos"));case 2:e=t.sent,setTimeout((function(){a.setState({todos:e.data,loading:!1})}),2e3);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleChange",value:function(t){this.setState({newTodo:t.target.value})}},{key:"deleteItem",value:function(){var t=Object(l.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),a=this.state.todos,t.next=4,g.a.delete("".concat(this.apiUrl,"/todos/").concat(a[e].id));case 4:delete a[e],this.setState({todos:a,loading:!1}),this.alert("Todo deleted successfully.");case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"updateItem",value:function(){var t=Object(l.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=this.state.todos[e],this.setState({editing:!0,updatingTodo:a,newTodo:a.name});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleButtonClick",value:function(){var t=Object(l.a)(r.a.mark((function t(){var e,a,n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.editing){t.next=12;break}if(""===this.state.newTodo){t.next=10;break}return this.setState({loading:!0}),t.next=5,g.a.post("".concat(this.apiUrl,"/todos"),{name:this.state.newTodo});case 5:e=t.sent,(a=this.state.todos).push(e.data),this.setState({todos:a,newTodo:"",loading:!1}),this.alert("Todo added successfully.");case 10:t.next=20;break;case 12:return n={name:this.state.newTodo,id:this.state.updatingTodo.id},o=this.state.todos,this.setState({loading:!0}),o[n.id-1]=n,t.next=18,g.a.put("".concat(this.apiUrl,"/todos/").concat(n.id),n);case 18:this.setState({editing:!1,todos:o,newTodo:"",loading:!1}),this.alert("Todo edited successfully.");case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"alert",value:function(t){var e=this;this.setState({notification:t}),setTimeout((function(){e.setState({notification:null})}),3e3)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"App-title"},"CRUD APP")),this.state.notification&&o.a.createElement("div",{className:"alert mt-3 mx-5 alert-danger"},o.a.createElement("p",null,this.state.notification)),this.state.loading&&o.a.createElement("img",{src:T.a,className:"w-50",alt:""}),!this.state.loading&&o.a.createElement("div",{className:"container"},o.a.createElement("input",{type:"text",className:"my-4 form-control",value:this.state.newTodo,onChange:this.handleChange,placeholder:this.state.editing?"Update To Do...":"New To Do..."}),o.a.createElement("button",{className:"mb-4 btn-info form-control",disabled:!this.state.newTodo,onClick:this.handleButtonClick},this.state.editing?"EDIT TO DO":"ADD TO DO"),o.a.createElement("ul",{className:"list-group"},this.state.todos.map((function(e,a){return t.state.editing?null:o.a.createElement(w,{key:e.id,item:e,updateItem:function(){t.updateItem(a).then((function(t){return t}))},deleteItem:function(){t.deleteItem(a).then((function(t){return t}))}})})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.0ccef7c7.chunk.js.map